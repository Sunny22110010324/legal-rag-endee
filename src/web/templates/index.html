{% extends "base.html" %}

{% block title %}Home - Legal RAG Assistant{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">Welcome to Legal RAG Assistant</h2>
        </div>
        <div class="card-body">
            <p>AI-powered legal document analysis with Endee Vector Database.</p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 2rem 0;">
                <div style="background: #f0f9ff; padding: 1.5rem; border-radius: 0.5rem;">
                    <h3><i class="fas fa-search" style="color: #3b82f6;"></i> Semantic Search</h3>
                    <p>Find legal documents using natural language</p>
                </div>
                <div style="background: #f0f9ff; padding: 1.5rem; border-radius: 0.5rem;">
                    <h3><i class="fas fa-robot" style="color: #3b82f6;"></i> AI Chat</h3>
                    <p>Ask questions about your legal documents</p>
                </div>
                <div style="background: #f0f9ff; padding: 1.5rem; border-radius: 0.5rem;">
                    <h3><i class="fas fa-database" style="color: #3b82f6;"></i> Endee DB</h3>
                    <p>High-performance vector search</p>
                </div>
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <a href="{{ url_for('upload') }}" class="btn btn-primary">
                    <i class="fas fa-upload"></i> Upload Documents
                </a>
                <a href="{{ url_for('chat') }}" class="btn btn-secondary">
                    <i class="fas fa-comments"></i> Try Chat
                </a>
                <a href="/api/health" class="btn btn-secondary" target="_blank">
                    <i class="fas fa-heart-pulse"></i> Check Health
                </a>
            </div>
        </div>
    </div>
</div>

<div class="card" style="margin-top: 2rem;">
    <div class="card-header">
        <h3 class="card-title">Quick Start</h3>
    </div>
    <div class="card-body">
        <ol style="margin-left: 1.5rem; line-height: 2;">
            <li>Upload legal documents (PDF, DOCX, TXT, MD)</li>
            <li>Chat with AI about your documents</li>
            <li>Search through documents semantically</li>
            <li>Manage your document collection</li>
        </ol>
        
        <div id="api-status" style="margin-top: 1rem; padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
            <h4>API Status: <span id="status-text">Checking...</span></h4>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Check API status
    fetch('/api/health')
        .then(response => response.json())
        .then(data => {
            document.getElementById('status-text').innerHTML = 
                `<span style="color: #10b981;">✅ ${data.status}</span> - ${data.message}`;
        })
        .catch(error => {
            document.getElementById('status-text').innerHTML = 
                `<span style="color: #ef4444;">❌ Error</span> - ${error}`;
        });
});
</script>
{% endblock %}